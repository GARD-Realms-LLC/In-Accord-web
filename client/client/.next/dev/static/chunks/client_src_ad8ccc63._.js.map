{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/In-Accord-web/client/src/state/index.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface InitialStateTypes {\n  isSidebarCollapsed: boolean;\n  isDarkMode: boolean;\n  sidebarWidth: number;\n}\n\nconst initialState: InitialStateTypes = {\n  isSidebarCollapsed: false,\n  isDarkMode: false,\n  sidebarWidth: 80,\n};\n\nexport const globalSlice = createSlice({\n  name: \"global\",\n  initialState,\n  reducers: {\n    setIsSidebarCollapsed: (state, action: PayloadAction<boolean>) => {\n      state.isSidebarCollapsed = action.payload;\n    },\n    setIsDarkMode: (state, action: PayloadAction<boolean>) => {\n      state.isDarkMode = action.payload;\n    },\n    setSidebarWidth: (state, action: PayloadAction<number>) => {\n      state.sidebarWidth = action.payload;\n    },\n  },\n});\n\nexport const { setIsSidebarCollapsed, setIsDarkMode, setSidebarWidth } = globalSlice.actions;\n\nexport default globalSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAQA,MAAM,eAAkC;IACtC,oBAAoB;IACpB,YAAY;IACZ,cAAc;AAChB;AAEO,MAAM,cAAc,IAAA,uNAAW,EAAC;IACrC,MAAM;IACN;IACA,UAAU;QACR,uBAAuB,CAAC,OAAO;YAC7B,MAAM,kBAAkB,GAAG,OAAO,OAAO;QAC3C;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,UAAU,GAAG,OAAO,OAAO;QACnC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;IACF;AACF;AAEO,MAAM,EAAE,qBAAqB,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,YAAY,OAAO;uCAE7E,YAAY,OAAO"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///E:/In-Accord-web/client/src/state/api.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport Products from '../app/products/page';\n\nexport interface Product {\n  productId: string;\n  name: string;\n  price: number;\n  rating?: number;\n  stockQuantity: string;\n}\nexport interface SalesSummary {\n  SalesSummaryId: string;\n  totalValue: number;\n  changePercentage?: number;\n  date: string;\n}\nexport interface PurchaseSummary {\n  PurchaseSummaryId: string;\n  totalPurchased: number;\n  changePercentage?: number;\n  date: string;\n}\nexport interface ExpenseSummary {\n  expenseSummaryId: string;\n  totalPurchased: number;\n  date: string;\n}\nexport interface ExpenseByCategorySummary {\n  expenseSummaryId: string;\n  category: string;\n  amount: string;\n  date: string;\n}\n\nexport interface DashboardMetrics {\n  popularProducts: Product[];\n  salesSummary: SalesSummary[];\n  purchaseSummary: PurchaseSummary[];\n  expenseSummary: ExpenseSummary[];\n  expenseByCategorySummary: ExpenseByCategorySummary[];\n}\n\nexport const api = createApi({ \n  baseQuery: fetchBaseQuery({ baseUrl: process.env.NEXT_PUBLIC_API_BASE_URL }),\n  reducerPath: \"api\",\n  tagTypes: [\"DashboardMetrics\", \"Products\", \"Users\", \"Expenses\"],\n  endpoints: (build) => ({\n    getDashboardMetrics: build.query({\n      query: () => \"/dashboard\",\n      providesTags: [\"DashboardMetrics\"],\n    }),\n  }),\n});\n\nexport const { useGetDashboardMetricsQuery } = api;"],"names":[],"mappings":";;;;;;AA2CuC;AA3CvC;AAAA;;AA0CO,MAAM,MAAM,IAAA,4OAAS,EAAC;IAC3B,WAAW,IAAA,+MAAc,EAAC;QAAE,OAAO;IAAuC;IAC1E,aAAa;IACb,UAAU;QAAC;QAAoB;QAAY;QAAS;KAAW;IAC/D,WAAW,CAAC,QAAU,CAAC;YACrB,qBAAqB,MAAM,KAAK,CAAC;gBAC/B,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAmB;YACpC;QACF,CAAC;AACH;AAEO,MAAM,EAAE,2BAA2B,EAAE,GAAG"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/redux.tsx"],"sourcesContent":["import { useRef } from \"react\";\r\nimport { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport {\r\n  TypedUseSelectorHook,\r\n  useDispatch,\r\n  useSelector,\r\n  Provider,\r\n} from \"react-redux\";\r\nimport globalReducer from \"@/state\";\r\nimport { api } from \"@/state/api\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\n\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport createWebStorage from \"redux-persist/lib/storage/createWebStorage\";\r\n\r\n/* REDUX PERSISTENCE */\r\nconst createNoopStorage = () => {\r\n  return {\r\n    getItem(_key: any) {\r\n      return Promise.resolve(null);\r\n    },\r\n    setItem(_key: any, value: any) {\r\n      return Promise.resolve(value);\r\n    },\r\n    removeItem(_key: any) {\r\n      return Promise.resolve();\r\n    },\r\n  };\r\n};\r\n\r\nconst storage =\r\n  typeof window === \"undefined\"\r\n    ? createNoopStorage()\r\n    : createWebStorage(\"local\");\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"global\"],\r\n};\r\nconst rootReducer = combineReducers({\r\n  global: globalReducer,\r\n  [api.reducerPath]: api.reducer,\r\n});\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\n/* REDUX STORE */\r\nexport const makeStore = () => {\r\n  return configureStore({\r\n    reducer: persistedReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      }).concat(api.middleware),\r\n  });\r\n};\r\n\r\n/* REDUX TYPES */\r\nexport type AppStore = ReturnType<typeof makeStore>;\r\nexport type RootState = ReturnType<AppStore[\"getState\"]>;\r\nexport type AppDispatch = AppStore[\"dispatch\"];\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n\r\n/* PROVIDER */\r\nexport default function StoreProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const storeRef = useRef<AppStore>();\r\n  if (!storeRef.current) {\r\n    storeRef.current = makeStore();\r\n    setupListeners(storeRef.current.dispatch);\r\n  }\r\n  const persistor = persistStore(storeRef.current);\r\n\r\n  return (\r\n    <Provider store={storeRef.current}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        {children}\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n"],"names":["useRef","combineReducers","configureStore","TypedUseSelectorHook","useDispatch","useSelector","Provider","globalReducer","api","setupListeners","persistStore","persistReducer","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","PersistGate","createWebStorage","createNoopStorage","getItem","_key","Promise","resolve","setItem","value","removeItem","storage","window","persistConfig","key","whitelist","rootReducer","global","reducerPath","reducer","persistedReducer","makeStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","concat","AppStore","ReturnType","RootState","AppDispatch","useAppDispatch","$","_c","$i","Symbol","for","useAppSelector","StoreProvider","children","React","ReactNode","storeRef","current","dispatch","persistor"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/(components)/Navbar/LoginModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\n\r\ntype LoginResult = { ok?: boolean; error?: string; user?: any };\r\n\r\nexport default function LoginModal({\r\n  show,\r\n  onClose,\r\n  onSubmit,\r\n  initialUsername,\r\n}: {\r\n  show: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (username: string, password: string) => Promise<LoginResult>;\r\n  initialUsername?: string;\r\n}) {\r\n  if (!show) return null;\r\n  const [username, setUsername] = useState(initialUsername || '');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  async function submit() {\r\n    setError(null);\r\n    if (!username.trim()) {\r\n      setError('Username is required');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const r = await onSubmit(username.trim(), password);\r\n      if (r && r.ok) {\r\n        setPassword('');\r\n        onClose();\r\n      } else {\r\n        setError(r?.error || 'Login failed');\r\n      }\r\n    } catch (e) {\r\n      setError('Network error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black opacity-40\" onClick={onClose} />\r\n      <div className=\"relative bg-white dark:bg-gray-800 rounded-lg p-6 w-80 shadow-lg\">\r\n        <h3 className=\"text-lg font-semibold mb-3\">Login</h3>\r\n        <label className=\"text-sm block mb-1\">Username</label>\r\n        <input\r\n          autoFocus\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') void submit();\r\n          }}\r\n          className=\"w-full px-3 py-2 border rounded bg-white dark:bg-gray-700 text-sm mb-2\"\r\n        />\r\n        <label className=\"text-sm block mb-1\">Password</label>\r\n        <input\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') void submit();\r\n          }}\r\n          type=\"password\"\r\n          className=\"w-full px-3 py-2 border rounded bg-white dark:bg-gray-700 text-sm mb-2\"\r\n        />\r\n        {error && <div className=\"text-sm text-red-600 dark:text-red-400 mb-2 p-2 bg-red-50 dark:bg-red-900/20 rounded\">{error}</div>}\r\n        <div className=\"flex justify-end gap-2\">\r\n          <button onClick={onClose} className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-sm rounded\">Cancel</button>\r\n          <button onClick={() => void submit()} disabled={loading} className=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded\">{loading ? 'Signing in...' : 'Sign in'}</button>\r\n        </div>\r\n        <div className=\"mt-4 text-center text-sm text-gray-600 dark:text-gray-400\">\r\n          Don't have an account?{' '}\r\n          <a href=\"/signup\" className=\"text-blue-600 hover:text-blue-700 dark:text-blue-400 font-medium\">\r\n            Create one\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","LoginResult","ok","error","user","LoginModal","show","onClose","onSubmit","initialUsername","username","password","Promise","setUsername","setPassword","loading","setLoading","setError","submit","trim","r","e","target","value","key"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/(components)/Sidebar/index.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useAppDispatch, useAppSelector } from '@/app/redux';\nimport { setIsSidebarCollapsed, setSidebarWidth } from '@/state';\nimport { Archive, BotIcon, CircleDollarSignIcon, Clipboard, DrumstickIcon, FileQuestionIcon, GitCompareArrowsIcon, Layout, LucideIcon, Menu, PcCaseIcon, PlugIcon, ServerCogIcon, Settings, StarsIcon, User, Users2Icon, WebhookIcon } from 'lucide-react';\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport * as Tooltip from '@radix-ui/react-tooltip';\n\ninterface SidebarLinkProps {\n  href: string;\n  icon: LucideIcon;\n  label: string;\n  isCollapsed: boolean;\n}\n\nconst SidebarLink = ({\n  href,\n  icon: Icon,\n  label,\n  isCollapsed\n}: SidebarLinkProps) => {\n  const pathname = usePathname();\n  const rootActivePaths = [\n    \"/home\",\n    \"/plugins\",\n    \"/themes\",\n    \"/uploads\",\n    \"/dashboard\",\n    \"/inventory\",\n    \"/products\",\n    \"/profile\",\n    \"/expenses\",\n    \"/bots\",\n    \"/servers\",\n    \"/hosting\",\n    \"/users\",\n    \"/support\",\n    \"/team\",\n    \"/administrator\",\n  ];\n  const isActive = pathname === href || (pathname === \"/\" && rootActivePaths.includes(href));\n\n  return (\n    <Link href={href}>\n      <div className={`cursor-pointer flex items-center gap-3 px-4 py-2 rounded-md ${\n        isCollapsed ? \"justify-center py-3\" : 'justify-start px-4 py-3'\n      }\n        hover:text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-700 gap-3 transition-colors ${\n          isActive ? \"bg-blue-200 text-white dark:bg-blue-600\" : \"\"\n        }\n      }`}\n      >\n        <Icon className=\"w-6 h-6 text-black dark:text-gray-300\" />\n\n        <span className={`${\n          isCollapsed ? \"hidden\" : \"block\"\n          } font-medium text-base text-black dark:text-gray-300`}\n        >\n          {label}\n        </span>\n      </div>\n    </Link>\n  );\n};\n\nconst SectionLabel = ({ text, isCollapsed }: { text: string; isCollapsed: boolean }) => (\n  <span\n    className={`${\n      isCollapsed ? 'hidden' : 'block'\n    } px-4 mt-4 text-xs font-semibold tracking-wide text-gray-500 uppercase`}\n  >\n    {text}\n  </span>\n);\n\nconst Sidebar = () => {\n  const dispatch = useAppDispatch();\n  const isSidebarCollapsed = useAppSelector(\n    (state) => state.global.isSidebarCollapsed\n  );\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\n  const sidebarWidth = useAppSelector((state) => state.global.sidebarWidth);\n\n  const [currentUserRole, setCurrentUserRole] = React.useState<string | null>(null);\n  const [isLoggedIn, setIsLoggedIn] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    try {\n      const raw = localStorage.getItem('currentUser');\n      if (raw) {\n        const user = JSON.parse(raw);\n        console.log('Sidebar: User loaded from localStorage:', user);\n        console.log('Sidebar: User role:', user.role);\n        setCurrentUserRole(user.role || null);\n        setIsLoggedIn(true);\n      } else {\n        setIsLoggedIn(false);\n      }\n    } catch {\n      setIsLoggedIn(false);\n    }\n\n    const handleUserUpdate = () => {\n      try {\n        const raw = localStorage.getItem('currentUser');\n        if (raw) {\n          const user = JSON.parse(raw);\n          console.log('Sidebar: User updated:', user);\n          console.log('Sidebar: Updated role:', user.role);\n          setCurrentUserRole(user.role || null);\n          setIsLoggedIn(true);\n        } else {\n          setCurrentUserRole(null);\n          setIsLoggedIn(false);\n        }\n      } catch {\n        setIsLoggedIn(false);\n      }\n    };\n\n    window.addEventListener('userUpdated', handleUserUpdate);\n    window.addEventListener('storage', handleUserUpdate);\n    window.addEventListener('sessionCreated', handleUserUpdate);\n    window.addEventListener('logout', handleUserUpdate);\n\n    return () => {\n      window.removeEventListener('userUpdated', handleUserUpdate);\n      window.removeEventListener('storage', handleUserUpdate);\n      window.removeEventListener('sessionCreated', handleUserUpdate);\n      window.removeEventListener('logout', handleUserUpdate);\n    };\n  }, []);\n\n  const discordUrl = process.env.NEXT_PUBLIC_DISCORD_URL || 'https://discord.gg/your-server';\n  const facebookUrl = process.env.NEXT_PUBLIC_FACEBOOK_URL || 'https://facebook.com/your-page';\n  const linkedinUrl = process.env.NEXT_PUBLIC_LINKEDIN_URL || 'https://linkedin.com/company/your-company';\n  const githubUrl = process.env.NEXT_PUBLIC_GITHUB_URL || 'https://github.com/your-repo';\n\n  const startXRef = useRef(0);\n  const startWidthRef = useRef(0);\n  const isResizingRef = useRef(false);\n\n  const collapsedWidth = 68;\n  // Allow an even thinner minimum while keeping icons usable\n  const minWidth = 70;\n  const maxWidth = 320;\n  // Default open width trimmed further for a slimmer sidebar\n  const defaultOpenWidth = 80;\n\n  const toggleSidebar = () => {\n    if (isSidebarCollapsed) {\n      // Reopen to a sensible default, ignoring the previous shrunken width\n      dispatch(setSidebarWidth(Math.min(Math.max(defaultOpenWidth, minWidth), maxWidth)));\n      dispatch(setIsSidebarCollapsed(false));\n    } else {\n      dispatch(setIsSidebarCollapsed(true));\n    }\n  }; \n\n  const handleMouseMove = useCallback(\n    (event: MouseEvent) => {\n      if (!isResizingRef.current) return;\n      const delta = event.clientX - startXRef.current;\n      const nextWidth = Math.min(Math.max(startWidthRef.current + delta, minWidth), maxWidth);\n      dispatch(setSidebarWidth(nextWidth));\n    },\n    [dispatch]\n  );\n\n  const handleMouseUp = useCallback(() => {\n    if (!isResizingRef.current) return;\n    isResizingRef.current = false;\n    window.removeEventListener('mousemove', handleMouseMove);\n    window.removeEventListener('mouseup', handleMouseUp);\n  }, [handleMouseMove]);\n\n  const handleMouseDown = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (isSidebarCollapsed) return;\n    isResizingRef.current = true;\n    startXRef.current = event.clientX;\n    startWidthRef.current = sidebarWidth;\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n  };\n\n  useEffect(() => {\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [handleMouseMove, handleMouseUp]);\n\n  useEffect(() => {\n    const normalized = Math.min(Math.max(sidebarWidth, minWidth), maxWidth);\n    if (normalized !== sidebarWidth) {\n      dispatch(setSidebarWidth(normalized));\n    }\n  }, [sidebarWidth, dispatch]);\n\n  const clampedWidth = Math.min(Math.max(sidebarWidth, minWidth), maxWidth);\n  const appliedWidth = isSidebarCollapsed ? collapsedWidth : clampedWidth;\n\n  // Hide sidebar if not logged in\n  if (!isLoggedIn) {\n    return null;\n  }\n\n  // Keep the sidebar as a full-height column so the footer can sit at the bottom on tall viewports\n  // Make sidebar relative so the resize handle is positioned correctly\n  const sidebarClassNames = `relative flex flex-col h-screen bg-white dark:bg-gray-800 transition-all duration-300 overflow-hidden shadow-md z-40`;\n\n  return (\n    <Tooltip.Provider>\n    <div \n      className={sidebarClassNames}\n      style={{\n        width: `${appliedWidth}px`,\n        backgroundColor: isDarkMode ? '#1f2937' : '#ffffff',\n        color: isDarkMode ? '#f3f4f6' : '#111827'\n      }}\n    >\n\n    {/* TOP LOGO */}\n    <div className={`flex justify-center items-center pt-4 pb-4 ${\n      isSidebarCollapsed ? 'px-2' : 'px-4'\n    }`}\n    >\n      <Link href=\"/home\" aria-label=\"Go to home\">\n        <img \n          src=\"https://pub-7d4119dd86a04c7bbdbcc230a9d161e7.r2.dev/Images/splash.jpg\" \n          alt=\"In-Accord\" \n          className={`${isSidebarCollapsed ? 'w-10 h-10' : 'w-full'} object-contain`}\n        />\n      </Link>\n    </div>\n\n     {/* LINKS */}\n      <hr />\n    <div className='flex-1 mt-6 flex flex-col gap-1 overflow-y-auto'>\n        <SidebarLink \n        href=\"/home\"\n        icon={Menu}\n        label=\"Home\" \n        isCollapsed={isSidebarCollapsed} \n      />\n      <SectionLabel text=\"Download\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/plugins\" \n        icon={PlugIcon}\n        label=\"Plugins\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/themes\" \n        icon={FileQuestionIcon}\n        label=\"Themes\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/uploads\" \n        icon={DrumstickIcon}\n        label=\"Uploads\" \n        isCollapsed={isSidebarCollapsed} \n      />\n      <SectionLabel text=\"My Stuff\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/dashboard\"\n        icon={Layout}\n        label=\"My Dashboard\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/inventory\" \n        icon={Archive}\n        label=\"My Downloads\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/products\" \n        icon={Clipboard}\n        label=\"My Products\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/profile\" \n        icon={Settings}\n        label=\"My Profile\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/expenses\" \n        icon={CircleDollarSignIcon}\n        label=\"My Contracts\" \n        isCollapsed={isSidebarCollapsed} \n      />\n    <SectionLabel text=\"Adverts\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/bots\" \n        icon={BotIcon}\n        label=\"Bots/Apps\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/servers\" \n        icon={ServerCogIcon}\n        label=\"Servers\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/hosting\" \n        icon={PcCaseIcon}\n        label=\"Hosting\" \n        isCollapsed={isSidebarCollapsed}\n      />\n        <SidebarLink \n        href=\"/users\" \n        icon={User}\n        label=\"Ask a Dev\" \n        isCollapsed={isSidebarCollapsed} \n      />\n      <SectionLabel text=\"Contacts\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/support\" \n        icon={WebhookIcon}\n        label=\"Support\" \n        isCollapsed={isSidebarCollapsed} \n      />\n        <SidebarLink \n        href=\"/team\" \n        icon={Users2Icon}\n        label=\"Our Team\" \n        isCollapsed={isSidebarCollapsed} \n      />\n      </div>\n\n      {/* Debug: Show current role */}\n      {console.log('Sidebar: currentUserRole =', currentUserRole, 'Should show admin?', currentUserRole === 'Admin')}\n      {currentUserRole === 'Admin' && (\n        <div className=\"px-2 mb-4\">\n          <SidebarLink \n            href=\"/administrator\" \n            icon={StarsIcon}\n            label=\"Admin\" \n            isCollapsed={isSidebarCollapsed} \n          />\n          <hr className=\"mt-2 border-gray-300 dark:border-gray-600\" />\n        </div>\n      )}\n\n     {/* Bottom Section: Social icons and footer */}\n      <div className=\"mt-auto mb-4 px-2\">\n        <div className={`flex ${isSidebarCollapsed ? 'justify-center' : 'justify-between'} items-center gap-2`}>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={discordUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Discord\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-[18px] h-[18px] text-[#5865F2]\">\n                  <path d=\"M20.317 4.369A19.791 19.791 0 0 0 16.558 3c-.19.335-.41.78-.563 1.137a18.27 18.27 0 0 0-4.01 0A8.84 8.84 0 0 0 11.422 3c-1.33.242-2.63.62-3.86 1.137C4.913 6.354 3.924 8.62 4.13 12.02c1.4 1.05 2.75 1.69 4.08 2.1.33-.46.62-.95.87-1.46-.48-.18-.94-.4-1.38-.66.12-.09.24-.18.36-.28 2.64 1.23 5.49 1.23 8.09 0 .12.1.24.19.36.28-.44.26-.9.48-1.38.66.25.51.54 1 .87 1.46 1.33-.41 2.68-1.05 4.08-2.1.33-5.22-.92-7.46-2.74-7.651ZM9.68 11.21c-.79 0-1.43.72-1.43 1.6 0 .88.64 1.6 1.43 1.6.79 0 1.44-.72 1.43-1.6 0-.88-.64-1.6-1.43-1.6Zm4.64 0c-.79 0-1.43.72-1.43 1.6 0 .88.64 1.6 1.43 1.6.79 0 1.43-.72 1.43-1.6 0-.88-.64-1.6-1.43-1.6Z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>Discord</Tooltip.Content>\n          </Tooltip.Root>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={facebookUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Facebook\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-[18px] h-[18px] text-[#1877F2]\">\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>Facebook</Tooltip.Content>\n          </Tooltip.Root>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={linkedinUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"LinkedIn\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-[18px] h-[18px] text-[#0A66C2]\">\n                  <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>LinkedIn</Tooltip.Content>\n          </Tooltip.Root>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={githubUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"GitHub\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-[18px] h-[18px] text-black dark:text-white\">\n                  <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>GitHub</Tooltip.Content>\n          </Tooltip.Root>\n        </div>\n        {!isSidebarCollapsed && (\n          <p className=\"mt-3 text-center text-xs text-red-500 dark:text-red-400\">&copy; 2026 In-Accord | GARD Realms LLC</p>\n        )}\n      </div>\n      <div\n        className=\"absolute top-0 right-0 h-full w-1 cursor-col-resize bg-transparent hover:bg-blue-200 dark:hover:bg-gray-600\"\n        onMouseDown={handleMouseDown}\n      />\n   </div>\n   </Tooltip.Provider>\n  );\n};\n\nexport default Sidebar;\n"],"names":["c","_c","React","useCallback","useEffect","useRef","useAppDispatch","useAppSelector","setIsSidebarCollapsed","setSidebarWidth","Archive","BotIcon","CircleDollarSignIcon","Clipboard","DrumstickIcon","FileQuestionIcon","GitCompareArrowsIcon","Layout","LucideIcon","Menu","PcCaseIcon","PlugIcon","ServerCogIcon","Settings","StarsIcon","User","Users2Icon","WebhookIcon","usePathname","Link","Tooltip","SidebarLinkProps","href","icon","label","isCollapsed","SidebarLink","t0","$","$i","Symbol","for","Icon","pathname","rootActivePaths","isActive","includes","t1","t2","t3","t4","t5","t6","SectionLabel","text","Sidebar","dispatch","isSidebarCollapsed","state","global","isDarkMode","sidebarWidth","currentUserRole","setCurrentUserRole","useState","isLoggedIn","setIsLoggedIn","raw","localStorage","getItem","user","JSON","parse","console","log","role","handleUserUpdate","window","addEventListener","removeEventListener","discordUrl","process","env","NEXT_PUBLIC_DISCORD_URL","facebookUrl","NEXT_PUBLIC_FACEBOOK_URL","linkedinUrl","NEXT_PUBLIC_LINKEDIN_URL","githubUrl","NEXT_PUBLIC_GITHUB_URL","startXRef","startWidthRef","isResizingRef","collapsedWidth","minWidth","maxWidth","defaultOpenWidth","toggleSidebar","Math","min","max","handleMouseMove","event","MouseEvent","current","delta","clientX","nextWidth","handleMouseUp","handleMouseDown","HTMLDivElement","normalized","clampedWidth","appliedWidth","sidebarClassNames","width","backgroundColor","color"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/dashboardWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport Navbar from \"@/app/(components)/Navbar\";\nimport Sidebar from \"@/app/(components)/Sidebar\";\nimport StoreProvider, { useAppSelector } from \"./redux\";\n\nconst DashboardLayout = ({ children }: { children: React.ReactNode }) => {\n  const isSidebarCollapsed = useAppSelector(\n    (state) => state.global.isSidebarCollapsed\n  );\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\n  const sidebarWidth = useAppSelector((state) => state.global.sidebarWidth);\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const html = document.documentElement;\n    if (isDarkMode) {\n      html.classList.add(\"dark\");\n    } else {\n      html.classList.remove(\"dark\");\n    }\n    console.log('Dark mode changed to:', isDarkMode, 'HTML classes:', html.classList.value);\n  }, [isDarkMode]);\n\n  const minWidth = 120;\n  const maxWidth = 320;\n  const clampedSidebarWidth = Math.min(Math.max(sidebarWidth, minWidth), maxWidth);\n  const appliedSidebarOffset = isSidebarCollapsed ? 64 : clampedSidebarWidth;\n\n  // Centralized list of routes that require authentication\n  const protectedRoutes = [\n    '/administrator',\n    '/dashboard',\n    '/profile',\n    '/inventory',\n    '/products',\n    '/expenses',\n    '/bots',\n    '/servers',\n    '/hosting',\n    '/users'\n  ];\n\n  // Redirect to home when accessing protected routes without a logged-in user\n  useEffect(() => {\n    try {\n      const raw = typeof window !== 'undefined' ? localStorage.getItem('currentUser') : null;\n      const user = raw ? JSON.parse(raw) : null;\n      const isProtected = protectedRoutes.some((p) => pathname?.startsWith(p));\n      if (isProtected && !user) {\n        // Use replace to avoid back button returning to protected page\n        router.replace('/home');\n      }\n      // Enforce Admin-only access for administrator route\n      if (pathname?.startsWith('/administrator') && user && user.role !== 'Admin') {\n        router.replace('/home');\n      }\n    } catch (e) {\n      // Fail-safe: if parsing fails, redirect off protected routes\n      const isProtected = protectedRoutes.some((p) => pathname?.startsWith(p));\n      if (isProtected) router.replace('/home');\n    }\n  }, [pathname, router]);\n\n  // React to auth changes (login/logout) and re-evaluate guards\n  useEffect(() => {\n    const onAuthUpdate = () => {\n      try {\n        const raw = localStorage.getItem('currentUser');\n        const user = raw ? JSON.parse(raw) : null;\n        const isProtected = protectedRoutes.some((p) => pathname?.startsWith(p));\n        if (isProtected && !user) router.replace('/home');\n        // Enforce Admin-only access for administrator route\n        if (pathname?.startsWith('/administrator') && user && user.role !== 'Admin') {\n          router.replace('/home');\n        }\n      } catch {}\n    };\n    window.addEventListener('userUpdated', onAuthUpdate);\n    window.addEventListener('storage', onAuthUpdate);\n    window.addEventListener('sessionCreated', onAuthUpdate);\n    window.addEventListener('logout', onAuthUpdate);\n    return () => {\n      window.removeEventListener('userUpdated', onAuthUpdate);\n      window.removeEventListener('storage', onAuthUpdate);\n      window.removeEventListener('sessionCreated', onAuthUpdate);\n      window.removeEventListener('logout', onAuthUpdate);\n    };\n  }, [pathname, router]);\n\n  return (\n    <div\n      className=\"flex bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 w-full min-h-screen\"\n      style={{\n        backgroundColor: isDarkMode ? '#111827' : '#f9fafb',\n        color: isDarkMode ? '#f3f4f6' : '#111827'\n      }}\n    >\n      <Sidebar />\n      <main\n        className={`flex flex-col flex-1 h-full py-7 px-6 bg-gray-50 dark:bg-gray-900`}\n        style={{\n          backgroundColor: isDarkMode ? '#111827' : '#f9fafb',\n          marginLeft: 0,\n          width: '100%'\n        }}\n      >\n        <Navbar />\n        {children}\n      </main>\n    </div>\n  );\n};\n\nconst DashboardWrapper = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <StoreProvider>\n      <DashboardLayout>{children}</DashboardLayout>\n    </StoreProvider>\n  );\n};\n\nexport default DashboardWrapper;"],"names":["c","_c","React","useEffect","useRouter","usePathname","Navbar","Sidebar","StoreProvider","useAppSelector","DashboardLayout","children","ReactNode","isSidebarCollapsed","state","global","isDarkMode","sidebarWidth","router","pathname","html","document","documentElement","classList","add","remove","console","log","value","minWidth","maxWidth","clampedSidebarWidth","Math","min","max","appliedSidebarOffset","protectedRoutes","raw","window","localStorage","getItem","user","JSON","parse","isProtected","some","p","startsWith","replace","role","e","onAuthUpdate","addEventListener","removeEventListener","backgroundColor","color","marginLeft","width","DashboardWrapper","t0","$","$i","Symbol","for","t1"],"mappings":"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","ignoreList":[]}}]
}