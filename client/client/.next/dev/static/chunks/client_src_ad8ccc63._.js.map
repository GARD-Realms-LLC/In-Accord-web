{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/In-Accord-web/client/src/state/index.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface InitialStateTypes {\n  isSidebarCollapsed: boolean;\n  isDarkMode: boolean;\n  sidebarWidth: number;\n}\n\nconst initialState: InitialStateTypes = {\n  isSidebarCollapsed: false,\n  isDarkMode: false,\n  sidebarWidth: 80,\n};\n\nexport const globalSlice = createSlice({\n  name: \"global\",\n  initialState,\n  reducers: {\n    setIsSidebarCollapsed: (state, action: PayloadAction<boolean>) => {\n      state.isSidebarCollapsed = action.payload;\n    },\n    setIsDarkMode: (state, action: PayloadAction<boolean>) => {\n      state.isDarkMode = action.payload;\n    },\n    setSidebarWidth: (state, action: PayloadAction<number>) => {\n      state.sidebarWidth = action.payload;\n    },\n  },\n});\n\nexport const { setIsSidebarCollapsed, setIsDarkMode, setSidebarWidth } = globalSlice.actions;\n\nexport default globalSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAQA,MAAM,eAAkC;IACtC,oBAAoB;IACpB,YAAY;IACZ,cAAc;AAChB;AAEO,MAAM,cAAc,IAAA,uNAAW,EAAC;IACrC,MAAM;IACN;IACA,UAAU;QACR,uBAAuB,CAAC,OAAO;YAC7B,MAAM,kBAAkB,GAAG,OAAO,OAAO;QAC3C;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,UAAU,GAAG,OAAO,OAAO;QACnC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;IACF;AACF;AAEO,MAAM,EAAE,qBAAqB,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,YAAY,OAAO;uCAE7E,YAAY,OAAO"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///E:/In-Accord-web/client/src/state/api.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nimport Products from '../app/products/page';\n\nexport interface Product {\n  productId: string;\n  name: string;\n  price: number;\n  rating?: number;\n  stockQuantity: string;\n}\nexport interface SalesSummary {\n  SalesSummaryId: string;\n  totalValue: number;\n  changePercentage?: number;\n  date: string;\n}\nexport interface PurchaseSummary {\n  PurchaseSummaryId: string;\n  totalPurchased: number;\n  changePercentage?: number;\n  date: string;\n}\nexport interface ExpenseSummary {\n  expenseSummaryId: string;\n  totalPurchased: number;\n  date: string;\n}\nexport interface ExpenseByCategorySummary {\n  expenseSummaryId: string;\n  category: string;\n  amount: string;\n  date: string;\n}\n\nexport interface DashboardMetrics {\n  popularProducts: Product[];\n  salesSummary: SalesSummary[];\n  purchaseSummary: PurchaseSummary[];\n  expenseSummary: ExpenseSummary[];\n  expenseByCategorySummary: ExpenseByCategorySummary[];\n}\n\nexport const api = createApi({ \n  baseQuery: fetchBaseQuery({ baseUrl: process.env.NEXT_PUBLIC_API_BASE_URL }),\n  reducerPath: \"api\",\n  tagTypes: [\"DashboardMetrics\", \"Products\", \"Users\", \"Expenses\"],\n  endpoints: (build) => ({\n    getDashboardMetrics: build.query({\n      query: () => \"/dashboard\",\n      providesTags: [\"DashboardMetrics\"],\n    }),\n  }),\n});\n\nexport const { useGetDashboardMetricsQuery } = api;"],"names":[],"mappings":";;;;;;AA2CuC;AA3CvC;AAAA;;AA0CO,MAAM,MAAM,IAAA,4OAAS,EAAC;IAC3B,WAAW,IAAA,+MAAc,EAAC;QAAE,OAAO;IAAuC;IAC1E,aAAa;IACb,UAAU;QAAC;QAAoB;QAAY;QAAS;KAAW;IAC/D,WAAW,CAAC,QAAU,CAAC;YACrB,qBAAqB,MAAM,KAAK,CAAC;gBAC/B,OAAO,IAAM;gBACb,cAAc;oBAAC;iBAAmB;YACpC;QACF,CAAC;AACH;AAEO,MAAM,EAAE,2BAA2B,EAAE,GAAG"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/redux.tsx"],"sourcesContent":["import { useRef } from \"react\";\r\nimport { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport {\r\n  TypedUseSelectorHook,\r\n  useDispatch,\r\n  useSelector,\r\n  Provider,\r\n} from \"react-redux\";\r\nimport globalReducer from \"@/state\";\r\nimport { api } from \"@/state/api\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\n\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport createWebStorage from \"redux-persist/lib/storage/createWebStorage\";\r\n\r\n/* REDUX PERSISTENCE */\r\nconst createNoopStorage = () => {\r\n  return {\r\n    getItem(_key: any) {\r\n      return Promise.resolve(null);\r\n    },\r\n    setItem(_key: any, value: any) {\r\n      return Promise.resolve(value);\r\n    },\r\n    removeItem(_key: any) {\r\n      return Promise.resolve();\r\n    },\r\n  };\r\n};\r\n\r\nconst storage =\r\n  typeof window === \"undefined\"\r\n    ? createNoopStorage()\r\n    : createWebStorage(\"local\");\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"global\"],\r\n};\r\nconst rootReducer = combineReducers({\r\n  global: globalReducer,\r\n  [api.reducerPath]: api.reducer,\r\n});\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\n/* REDUX STORE */\r\nexport const makeStore = () => {\r\n  return configureStore({\r\n    reducer: persistedReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      }).concat(api.middleware),\r\n  });\r\n};\r\n\r\n/* REDUX TYPES */\r\nexport type AppStore = ReturnType<typeof makeStore>;\r\nexport type RootState = ReturnType<AppStore[\"getState\"]>;\r\nexport type AppDispatch = AppStore[\"dispatch\"];\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n\r\n/* PROVIDER */\r\nexport default function StoreProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const storeRef = useRef<AppStore>();\r\n  if (!storeRef.current) {\r\n    storeRef.current = makeStore();\r\n    setupListeners(storeRef.current.dispatch);\r\n  }\r\n  const persistor = persistStore(storeRef.current);\r\n\r\n  return (\r\n    <Provider store={storeRef.current}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        {children}\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n"],"names":["useRef","combineReducers","configureStore","TypedUseSelectorHook","useDispatch","useSelector","Provider","globalReducer","api","setupListeners","persistStore","persistReducer","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","PersistGate","createWebStorage","createNoopStorage","getItem","_key","Promise","resolve","setItem","value","removeItem","storage","window","persistConfig","key","whitelist","rootReducer","global","reducerPath","reducer","persistedReducer","makeStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","concat","AppStore","ReturnType","RootState","AppDispatch","useAppDispatch","$","_c","$i","Symbol","for","useAppSelector","StoreProvider","children","React","ReactNode","storeRef","current","dispatch","persistor"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/(components)/Navbar/LoginModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\n\r\ntype LoginResult = { ok?: boolean; error?: string; user?: any };\r\n\r\nexport default function LoginModal({\r\n  show,\r\n  onClose,\r\n  onSubmit,\r\n  initialUsername,\r\n}: {\r\n  show: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (username: string, password: string) => Promise<LoginResult>;\r\n  initialUsername?: string;\r\n}) {\r\n  if (!show) return null;\r\n  const [username, setUsername] = useState(initialUsername || '');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  async function submit() {\r\n    setError(null);\r\n    if (!username.trim()) {\r\n      setError('Username is required');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const r = await onSubmit(username.trim(), password);\r\n      if (r && r.ok) {\r\n        setPassword('');\r\n        onClose();\r\n      } else {\r\n        setError(r?.error || 'Login failed');\r\n      }\r\n    } catch (e) {\r\n      setError('Network error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black opacity-40\" onClick={onClose} />\r\n      <div className=\"relative bg-white dark:bg-gray-800 rounded-lg p-6 w-80 shadow-lg\">\r\n        <h3 className=\"text-lg font-semibold mb-3\">Login</h3>\r\n        <label className=\"text-sm block mb-1\">Username</label>\r\n        <input\r\n          autoFocus\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') void submit();\r\n          }}\r\n          className=\"w-full px-3 py-2 border rounded bg-white dark:bg-gray-700 text-sm mb-2\"\r\n        />\r\n        <label className=\"text-sm block mb-1\">Password</label>\r\n        <input\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') void submit();\r\n          }}\r\n          type=\"password\"\r\n          className=\"w-full px-3 py-2 border rounded bg-white dark:bg-gray-700 text-sm mb-2\"\r\n        />\r\n        {error && <div className=\"text-sm text-red-600 dark:text-red-400 mb-2 p-2 bg-red-50 dark:bg-red-900/20 rounded\">{error}</div>}\r\n        <div className=\"flex justify-end gap-2\">\r\n          <button onClick={onClose} className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-sm rounded\">Cancel</button>\r\n          <button onClick={() => void submit()} disabled={loading} className=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded\">{loading ? 'Signing in...' : 'Sign in'}</button>\r\n        </div>\r\n        <div className=\"mt-4 text-center text-sm text-gray-600 dark:text-gray-400\">\r\n          Don't have an account?{' '}\r\n          <a href=\"/signup\" className=\"text-blue-600 hover:text-blue-700 dark:text-blue-400 font-medium\">\r\n            Create one\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["useState","LoginResult","ok","error","user","LoginModal","show","onClose","onSubmit","initialUsername","username","password","Promise","setUsername","setPassword","loading","setLoading","setError","submit","trim","r","e","target","value","key"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/(components)/Navbar/index.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from '@/app/redux';\nimport { setIsDarkMode, setIsSidebarCollapsed} from '@/state';\nimport { Bell, Menu, Moon, Settings, Sun, User } from 'lucide-react';\nimport Link from 'next/link';\nimport LoginModal from './LoginModal';\nimport { useRouter } from 'next/navigation';\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8000';\n\n  const Navbar = () => {\n    const dispatch = useAppDispatch();\n    const router = useRouter();\n      const isSidebarCollapsed = useAppSelector(\n        (state) => state.global.isSidebarCollapsed\n      );\n\n  // Simple local auth state for UI (persisted to localStorage)\n  const [currentUser, setCurrentUser] = useState<{ id?: string; userId?: string; name?: string; email?: string; username?: string; role?: string; avatar?: string } | null>(() => {\n    try {\n      if (typeof window === 'undefined') return null;\n      const raw = localStorage.getItem('currentUser');\n      return raw ? JSON.parse(raw) : null;\n    } catch {\n      return null;\n    }\n  });\n\n  // Listen for localStorage changes (e.g., when profile is updated)\n  useEffect(() => {\n    const handleStorageChange = () => {\n      try {\n        const raw = localStorage.getItem('currentUser');\n        const updated = raw ? JSON.parse(raw) : null;\n        setCurrentUser(updated);\n        console.log('Navbar: userUpdated event received, updated user:', updated);\n      } catch (e) {\n        console.error('Navbar: Error parsing currentUser from localStorage:', e);\n      }\n    };\n\n    // Listen for storage events (from other tabs) and custom events (from same tab)\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('userUpdated', handleStorageChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('userUpdated', handleStorageChange);\n    };\n  }, []);\n\n  useEffect(() => {\n    try {\n      if (typeof window !== 'undefined') {\n        if (currentUser) localStorage.setItem('currentUser', JSON.stringify(currentUser)); else localStorage.removeItem('currentUser');\n      }\n    } catch {}\n  }, [currentUser]);\n\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [avatarError, setAvatarError] = useState(false);\n  const [showLogoutToast, setShowLogoutToast] = useState(false);\n  const [notificationCount, setNotificationCount] = useState(0);\n  \n  // Construct avatar URL, ensuring relative paths are converted to absolute backend URLs\n  let rawAvatarUrl = currentUser?.avatar || (currentUser as any)?.avatarUrl || 'https://ui-avatars.com/api/?name=Not+Logged+In';\n  if (rawAvatarUrl && rawAvatarUrl.startsWith('/data/')) {\n    rawAvatarUrl = `${API_BASE}${rawAvatarUrl}`;\n  }\n  const avatarUrl = rawAvatarUrl;\n  const isGeneratedAvatar = typeof avatarUrl === 'string' && avatarUrl.includes('ui-avatars.com');\n\n  useEffect(() => {\n    setAvatarError(false);\n  }, [avatarUrl]);\n\n  useEffect(() => {\n    try {\n      // Debugging: log current avatar state to help diagnose why navbar shows fallback\n      // Remove these logs once the issue is resolved.\n      // eslint-disable-next-line no-console\n      console.log('Navbar avatar debug:', { avatarUrl, isGeneratedAvatar, avatarError, currentUser });\n    } catch (e) {}\n  }, [avatarUrl, isGeneratedAvatar, avatarError, currentUser]);\n\n  async function handleLogin(username: string, password: string) {\n    const name = (username || '').trim();\n    if (!name) return { ok: false, error: 'Username required' } as const;\n    try {\n      const res = await fetch(`${API_BASE}/api/admin/auth/login`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ username: name, password }) });\n      if (!res.ok) {\n        const j = await res.json().catch(() => ({}));\n        return { ok: false, error: j.error || 'Login failed' };\n      }\n      const j = await res.json();\n      const user = j.user || { name: name, username: name };\n      console.log('Login response user:', user);\n      console.log('User role from backend:', user.role);\n      \n      try {\n        const sres = await fetch(`${API_BASE}/api/admin/sessions/create`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ user }) });\n        const sjson = await sres.json().catch(() => ({}));\n        if (sjson?.ok && sjson.session) {\n          try { localStorage.setItem('sessionId', sjson.session.id); } catch {}\n        }\n      } catch (e) { console.warn('Failed to create session', e); }\n      \n      const fullUser = { \n        id: user.id || user.userId, \n        userId: user.id || user.userId, \n        name: user.name || name, \n        username: user.username || name, \n        email: user.email, \n        role: user.role || 'User', \n        avatar: user.avatar || user.avatarUrl || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name || name)}` \n      };\n      \n      console.log('Setting currentUser:', fullUser);\n      setCurrentUser(fullUser);\n      \n      // Save to localStorage immediately and notify\n      try {\n        localStorage.setItem('currentUser', JSON.stringify(fullUser));\n        console.log('Saved to localStorage:', fullUser);\n      } catch (e) {\n        console.error('Failed to save to localStorage', e);\n      }\n      \n      // notify other parts of the app that a session was created\n      try { \n        window.dispatchEvent(new CustomEvent('sessionCreated', { detail: { user: fullUser, sessionId: typeof window !== 'undefined' ? localStorage.getItem('sessionId') : null } })); \n        window.dispatchEvent(new Event('userUpdated'));\n      } catch {}\n      \n      return { ok: true, user: fullUser };\n    } catch (e) {\n      console.error('Login error', e);\n      // If backend is not reachable, provide a helpful error message\n      const errorMsg = e instanceof TypeError && e.message.includes('fetch') \n        ? 'Backend server not reachable. Please make sure the server is running on ' + API_BASE \n        : 'Network error';\n      return { ok: false, error: errorMsg };\n    }\n  }\n\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\n\n    const toggleSidebar = () => {\n      dispatch(setIsSidebarCollapsed(!isSidebarCollapsed));\n    };\n    \n    const toggleDarkMode = () => {\n      console.log('Dark mode toggle clicked. Current isDarkMode state:', isDarkMode);\n      const newState = !isDarkMode;\n      console.log('Dispatching new state:', newState);\n      dispatch(setIsDarkMode(newState));\n    };\n\n    return (\n      <>\n        <div \n          className=\"flex justify-between items-center w-full mb-7 px-4 py-3 rounded-lg\"\n          style={{\n            backgroundColor: isDarkMode ? '#1f2937' : '#ffffff',\n            color: isDarkMode ? '#f3f4f6' : '#111827'\n          }}\n        >\n         \n          {/*left side */} \n          <div className=\"flex justify-between items-center gap-5\">\n            <div className=\"hidden md:flex justify-between items-center gap-5\">\n            </div>  \n            {currentUser && (\n              <button \n                className=\"px-3 py-3 bg-gray-100 dark:bg-gray-700 rounded-full hover:bg-blue-100 dark:hover:bg-gray-600\" \n                onClick={toggleSidebar}\n              >\n                <Menu className=\"w-4 h-4 dark:text-gray-300\" />\n              </button>\n            )}\n          </div>\n          \n          {currentUser && (\n            <div className='relative'>\n              <input \n                type=\"search\" \n                placeholder=\"Start typing  to search\" \n                className=\"pl-10 pr-4 py-2 w-50 md:w-60 border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-blue-500\"\n              />\n              <div className='absolute inset-y-0 left-0 pl- flex items-center pointer-events-none'>\n                <Bell className=\"text-gray-500 dark:text-gray-400\" size={20} />\n              </div>\n            </div> \n          )}\n\n          {/*Right Side */}\n          <div className=\"flex justify-between items-center gap-5\">\n            <div className=\"hidden md:flex justify-between items-center gap-5\">\n            </div>  \n            <button \n              onClick={toggleDarkMode}\n              className=\"px-3 py-3 bg-gray-100 dark:bg-gray-700 rounded-full hover:bg-blue-100 dark:hover:bg-gray-600 z-50\"\n              type=\"button\"\n            >\n              {isDarkMode ? (\n                <Sun className=\"cursor-pointer text-gray-500 dark:text-yellow-400\" size={24} />\n              ): (\n                <Moon className=\"cursor-pointer text-gray-500 dark:text-gray-300\" size={24} />\n              )}\n            </button>\n            {currentUser && notificationCount > 0 && (\n              <div className=\"relative\">\n                <Bell className=\"cursor-pointer text-gray-500\" size={24} />\n                <span className=\"absolute -top-2 -right-2 inline-flex items-center justify-center \n                px-[0.4rem] py-1 text-xs leading-none text-red-100 bg-red-600 rounded-full\">\n                  {notificationCount}\n                </span>\n              </div>\n            )}\n            <hr className=\"w-0 h-7 border border-solid border-l border-gray-300 mx-3\" />\n            <div className=\"flex items-center gap-3\">\n              {!avatarError && !isGeneratedAvatar ? (\n                <img\n                  src={avatarUrl}\n                  alt={currentUser?.name ?? 'user'}\n                  className=\"w-9 h-9 rounded-full object-cover bg-gray-200\"\n                  onError={() => setAvatarError(true)}\n                />\n              ) : (\n                <div className=\"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center\">\n                  <User className=\"text-gray-600\" size={18} />\n                </div>\n              )}\n              <span className=\"font-semibold\">{currentUser?.name ?? 'Not Logged In'}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {!currentUser && (\n                <>\n                  <button onClick={() => setShowLoginModal(true)} className=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded\">Login/Register</button>\n                  <LoginModal show={showLoginModal} onClose={() => setShowLoginModal(false)} onSubmit={handleLogin} />\n                </>\n              )}\n              {currentUser && (\n                <button\n                  onClick={async () => {\n                    try {\n                      const sessionId = typeof window !== 'undefined' ? localStorage.getItem('sessionId') : null;\n                      if (sessionId) {\n                        await fetch(`${API_BASE}/api/admin/sessions/terminate`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ sessionId }) }).catch(() => null);\n                        try { localStorage.removeItem('sessionId'); } catch {}\n                      }\n                      await fetch(`${API_BASE}/api/admin/auth/logout`, { method: 'POST' }).catch(() => null);\n                    } catch (e) { console.warn('Logout error', e); }\n                    // Clear user immediately and notify listeners\n                    try { localStorage.removeItem('currentUser'); } catch {}\n                    setCurrentUser(null);\n                    setShowLogoutToast(true);\n                    try {\n                      // Emit dedicated logout and general update events\n                      window.dispatchEvent(new Event('logout'));\n                      window.dispatchEvent(new Event('userUpdated'));\n                    } catch {}\n                    // Auto-dismiss toast after 3 seconds\n                    setTimeout(() => setShowLogoutToast(false), 3000);\n                    // Prefer a hard navigation to ensure protected pages unload\n                    try { router.replace('/home'); } catch {}\n                    // Fallback in case router navigation is blocked\n                    try { setTimeout(() => { window.location.assign('/home'); }, 50); } catch {}\n                  }}\n                  className=\"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded\"\n                >\n                  Logoff\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        {showLogoutToast && (\n          <div className=\"fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50\">\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            <span>Logged out successfully</span>\n          </div>\n        )}\n      </>\n    );\n  };\nexport default Navbar;\n"],"names":["useState","useEffect","useAppDispatch","useAppSelector","setIsDarkMode","setIsSidebarCollapsed","Bell","Menu","Moon","Settings","Sun","User","Link","LoginModal","useRouter","API_BASE","process","env","NEXT_PUBLIC_API_BASE_URL","Navbar","dispatch","router","isSidebarCollapsed","state","global","currentUser","setCurrentUser","id","userId","name","email","username","role","avatar","window","raw","localStorage","getItem","JSON","parse","handleStorageChange","updated","console","log","e","error","addEventListener","removeEventListener","setItem","stringify","removeItem","showLoginModal","setShowLoginModal","avatarError","setAvatarError","showLogoutToast","setShowLogoutToast","notificationCount","setNotificationCount","rawAvatarUrl","avatarUrl","startsWith","isGeneratedAvatar","includes","handleLogin","password","trim","ok","const","res","fetch","method","headers","body","j","json","catch","user","sres","sjson","session","warn","fullUser","encodeURIComponent","dispatchEvent","CustomEvent","detail","sessionId","Event","errorMsg","TypeError","message","isDarkMode","toggleSidebar","toggleDarkMode","newState","backgroundColor","color","setTimeout","replace","location","assign"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/(components)/Sidebar/index.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useAppDispatch, useAppSelector } from '@/app/redux';\nimport { setIsSidebarCollapsed, setSidebarWidth } from '@/state';\nimport { Archive, BotIcon, CircleDollarSignIcon, Clipboard, DrumstickIcon, FileQuestionIcon, GitCompareArrowsIcon, Layout, LucideIcon, Menu, PcCaseIcon, PlugIcon, ServerCogIcon, Settings, StarsIcon, User, Users2Icon, WebhookIcon } from 'lucide-react';\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport * as Tooltip from '@radix-ui/react-tooltip';\n\ninterface SidebarLinkProps {\n  href: string;\n  icon: LucideIcon;\n  label: string;\n  isCollapsed: boolean;\n  currentUserRole?: string | null;\n}\n\nconst SidebarLink = ({\n  href,\n  icon: Icon,\n  label,\n  isCollapsed,\n  currentUserRole\n}: SidebarLinkProps) => {\n  const pathname = usePathname();\n  const rootActivePaths = [\n    \"/home\",\n    \"/plugins\",\n    \"/themes\",\n    \"/uploads\",\n    \"/dashboard\",\n    \"/inventory\",\n    \"/products\",\n    \"/profile\",\n    \"/expenses\",\n    \"/bots\",\n    \"/servers\",\n    \"/hosting\",\n    \"/users\",\n    \"/support\",\n    \"/team\",\n    \"/administrator\",\n  ];\n  const isActive = pathname === href || (pathname === \"/\" && rootActivePaths.includes(href));\n\n  // Hide uploads, products, and expenses for user/viewer roles\n  const restrictedLinks = ['/uploads', '/products', '/expenses'];\n  const role = currentUserRole?.toLowerCase();\n  if ((role === 'user' || role === 'viewer') && restrictedLinks.includes(href)) {\n    return null;\n  }\n\n  return (\n    <Link href={href}>\n      <div className={`cursor-pointer flex items-center gap-3 px-4 py-2 rounded-md ${\n        isCollapsed ? \"justify-center py-3\" : 'justify-start px-4 py-3'\n      }\n        hover:text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-700 gap-3 transition-colors ${\n          isActive ? \"bg-blue-200 text-white dark:bg-blue-600\" : \"\"\n        }\n      }`}\n      >\n        <Icon className=\"w-6 h-6 text-black dark:text-gray-300\" />\n\n        <span className={`${\n          isCollapsed ? \"hidden\" : \"block\"\n          } font-medium text-base text-black dark:text-gray-300`}\n        >\n          {label}\n        </span>\n      </div>\n    </Link>\n  );\n};\n\nconst SectionLabel = ({ text, isCollapsed }: { text: string; isCollapsed: boolean }) => (\n  <span\n    className={`${\n      isCollapsed ? 'hidden' : 'block'\n    } px-4 mt-4 text-xs font-semibold tracking-wide text-gray-500 uppercase`}\n  >\n    {text}\n  </span>\n);\n\nconst Sidebar = () => {\n  const dispatch = useAppDispatch();\n  const isSidebarCollapsed = useAppSelector(\n    (state) => state.global.isSidebarCollapsed\n  );\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\n  const sidebarWidth = useAppSelector((state) => state.global.sidebarWidth);\n\n  const [currentUserRole, setCurrentUserRole] = React.useState<string | null>(null);\n  const [isLoggedIn, setIsLoggedIn] = React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    try {\n      const raw = localStorage.getItem('currentUser');\n      if (raw) {\n        const user = JSON.parse(raw);\n        console.log('Sidebar: User loaded from localStorage:', user);\n        console.log('Sidebar: User role:', user.role);\n        setCurrentUserRole(user.role || null);\n        setIsLoggedIn(true);\n      } else {\n        setIsLoggedIn(false);\n      }\n    } catch {\n      setIsLoggedIn(false);\n    }\n\n    const handleUserUpdate = () => {\n      try {\n        const raw = localStorage.getItem('currentUser');\n        if (raw) {\n          const user = JSON.parse(raw);\n          console.log('Sidebar: User updated:', user);\n          console.log('Sidebar: Updated role:', user.role);\n          setCurrentUserRole(user.role || null);\n          setIsLoggedIn(true);\n        } else {\n          setCurrentUserRole(null);\n          setIsLoggedIn(false);\n        }\n      } catch {\n        setIsLoggedIn(false);\n      }\n    };\n\n    window.addEventListener('userUpdated', handleUserUpdate);\n    window.addEventListener('storage', handleUserUpdate);\n    window.addEventListener('sessionCreated', handleUserUpdate);\n    window.addEventListener('logout', handleUserUpdate);\n\n    return () => {\n      window.removeEventListener('userUpdated', handleUserUpdate);\n      window.removeEventListener('storage', handleUserUpdate);\n      window.removeEventListener('sessionCreated', handleUserUpdate);\n      window.removeEventListener('logout', handleUserUpdate);\n    };\n  }, []);\n\n  const discordUrl = process.env.NEXT_PUBLIC_DISCORD_URL || 'https://discord.gg/your-server';\n  const facebookUrl = process.env.NEXT_PUBLIC_FACEBOOK_URL || 'https://facebook.com/your-page';\n  const linkedinUrl = process.env.NEXT_PUBLIC_LINKEDIN_URL || 'https://linkedin.com/company/your-company';\n  const githubUrl = process.env.NEXT_PUBLIC_GITHUB_URL || 'https://github.com/your-repo';\n\n  const startXRef = useRef(0);\n  const startWidthRef = useRef(0);\n  const isResizingRef = useRef(false);\n\n  const collapsedWidth = 68;\n  // Allow an even thinner minimum while keeping icons usable\n  const minWidth = 70;\n  const maxWidth = 320;\n  // Default open width trimmed further for a slimmer sidebar\n  const defaultOpenWidth = 80;\n\n  const toggleSidebar = () => {\n    if (isSidebarCollapsed) {\n      // Reopen to a sensible default, ignoring the previous shrunken width\n      dispatch(setSidebarWidth(Math.min(Math.max(defaultOpenWidth, minWidth), maxWidth)));\n      dispatch(setIsSidebarCollapsed(false));\n    } else {\n      dispatch(setIsSidebarCollapsed(true));\n    }\n  }; \n\n  const handleMouseMove = useCallback(\n    (event: MouseEvent) => {\n      if (!isResizingRef.current) return;\n      const delta = event.clientX - startXRef.current;\n      const nextWidth = Math.min(Math.max(startWidthRef.current + delta, minWidth), maxWidth);\n      dispatch(setSidebarWidth(nextWidth));\n    },\n    [dispatch]\n  );\n\n  const handleMouseUp = useCallback(() => {\n    if (!isResizingRef.current) return;\n    isResizingRef.current = false;\n    window.removeEventListener('mousemove', handleMouseMove);\n    window.removeEventListener('mouseup', handleMouseUp);\n  }, [handleMouseMove]);\n\n  const handleMouseDown = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (isSidebarCollapsed) return;\n    isResizingRef.current = true;\n    startXRef.current = event.clientX;\n    startWidthRef.current = sidebarWidth;\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n  };\n\n  useEffect(() => {\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [handleMouseMove, handleMouseUp]);\n\n  useEffect(() => {\n    const normalized = Math.min(Math.max(sidebarWidth, minWidth), maxWidth);\n    if (normalized !== sidebarWidth) {\n      dispatch(setSidebarWidth(normalized));\n    }\n  }, [sidebarWidth, dispatch]);\n\n  const clampedWidth = Math.min(Math.max(sidebarWidth, minWidth), maxWidth);\n  const appliedWidth = isSidebarCollapsed ? collapsedWidth : clampedWidth;\n\n  // Hide sidebar if not logged in\n  if (!isLoggedIn) {\n    return null;\n  }\n\n  // Keep the sidebar as a full-height column so the footer can sit at the bottom on tall viewports\n  // Make sidebar relative so the resize handle is positioned correctly\n  const sidebarClassNames = `relative flex flex-col h-screen bg-white dark:bg-gray-800 transition-all duration-300 overflow-hidden shadow-md z-40`;\n\n  return (\n    <Tooltip.Provider>\n    <div \n      className={sidebarClassNames}\n      style={{\n        width: `${appliedWidth}px`,\n        backgroundColor: isDarkMode ? '#1f2937' : '#ffffff',\n        color: isDarkMode ? '#f3f4f6' : '#111827'\n      }}\n    >\n\n    {/* TOP LOGO */}\n    <div className={`flex justify-center items-center pt-4 pb-4 ${\n      isSidebarCollapsed ? 'px-2' : 'px-4'\n    }`}\n    >\n      <Link href=\"/home\" aria-label=\"Go to home\">\n        <img \n          src=\"https://pub-7d4119dd86a04c7bbdbcc230a9d161e7.r2.dev/Images/splash.jpg\" \n          alt=\"In-Accord\" \n          className={`${isSidebarCollapsed ? 'w-10 h-10' : 'w-full'} object-contain`}\n        />\n      </Link>\n    </div>\n\n     {/* LINKS */}\n      <hr />\n    <div className='flex-1 mt-6 flex flex-col gap-1 overflow-y-auto'>\n        <SidebarLink \n        href=\"/home\"\n        icon={Menu}\n        label=\"Home\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n      <SectionLabel text=\"Download\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/plugins\" \n        icon={PlugIcon}\n        label=\"Plugins\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/themes\" \n        icon={FileQuestionIcon}\n        label=\"Themes\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/uploads\" \n        icon={DrumstickIcon}\n        label=\"Uploads\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n      <SectionLabel text=\"My Stuff\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/dashboard\"\n        icon={Layout}\n        label=\"My Dashboard\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/inventory\" \n        icon={Archive}\n        label=\"My Downloads\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/products\" \n        icon={Clipboard}\n        label=\"My Products\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/profile\" \n        icon={Settings}\n        label=\"My Profile\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/expenses\" \n        icon={CircleDollarSignIcon}\n        label=\"My Contracts\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n    <SectionLabel text=\"Adverts\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/bots\" \n        icon={BotIcon}\n        label=\"Bots/Apps\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/servers\" \n        icon={ServerCogIcon}\n        label=\"Servers\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/hosting\" \n        icon={PcCaseIcon}\n        label=\"Hosting\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole}\n      />\n        <SidebarLink \n        href=\"/users\" \n        icon={User}\n        label=\"Ask a Dev\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n      <SectionLabel text=\"Contacts\" isCollapsed={isSidebarCollapsed} />\n        <SidebarLink \n        href=\"/support\" \n        icon={WebhookIcon}\n        label=\"Support\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n        <SidebarLink \n        href=\"/team\" \n        icon={Users2Icon}\n        label=\"Our Team\" \n        isCollapsed={isSidebarCollapsed}\n        currentUserRole={currentUserRole} \n      />\n      </div>\n\n      {/* Debug: Show current role */}\n      {console.log('Sidebar: currentUserRole =', currentUserRole, 'Should show admin?', currentUserRole === 'Admin')}\n      {currentUserRole === 'Admin' && (\n        <div className=\"px-2 mb-4\">\n          <SidebarLink \n            href=\"/administrator\" \n            icon={StarsIcon}\n            label=\"Admin\" \n            isCollapsed={isSidebarCollapsed}\n            currentUserRole={currentUserRole} \n          />\n          <hr className=\"mt-2 border-gray-300 dark:border-gray-600\" />\n        </div>\n      )}\n\n     {/* Bottom Section: Social icons and footer */}\n      <div className=\"mt-auto mb-4 px-2\">\n        <div className={`flex ${isSidebarCollapsed ? 'justify-center' : 'justify-between'} items-center gap-2`}>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={discordUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Discord\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4.5 h-4.5 text-[#5865F2]\">\n                  <path d=\"M20.317 4.369A19.791 19.791 0 0 0 16.558 3c-.19.335-.41.78-.563 1.137a18.27 18.27 0 0 0-4.01 0A8.84 8.84 0 0 0 11.422 3c-1.33.242-2.63.62-3.86 1.137C4.913 6.354 3.924 8.62 4.13 12.02c1.4 1.05 2.75 1.69 4.08 2.1.33-.46.62-.95.87-1.46-.48-.18-.94-.4-1.38-.66.12-.09.24-.18.36-.28 2.64 1.23 5.49 1.23 8.09 0 .12.1.24.19.36.28-.44.26-.9.48-1.38.66.25.51.54 1 .87 1.46 1.33-.41 2.68-1.05 4.08-2.1.33-5.22-.92-7.46-2.74-7.651ZM9.68 11.21c-.79 0-1.43.72-1.43 1.6 0 .88.64 1.6 1.43 1.6.79 0 1.44-.72 1.43-1.6 0-.88-.64-1.6-1.43-1.6Zm4.64 0c-.79 0-1.43.72-1.43 1.6 0 .88.64 1.6 1.43 1.6.79 0 1.43-.72 1.43-1.6 0-.88-.64-1.6-1.43-1.6Z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>Discord</Tooltip.Content>\n          </Tooltip.Root>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={facebookUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Facebook\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4.5 h-4.5 text-[#1877F2]\">\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>Facebook</Tooltip.Content>\n          </Tooltip.Root>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={linkedinUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"LinkedIn\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4.5 h-4.5 text-[#0A66C2]\">\n                  <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>LinkedIn</Tooltip.Content>\n          </Tooltip.Root>\n          <Tooltip.Root>\n            <Tooltip.Trigger asChild>\n              <Link href={githubUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"GitHub\" className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4.5 h-4.5 text-black dark:text-white\">\n                  <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\n                </svg>\n              </Link>\n            </Tooltip.Trigger>\n            <Tooltip.Content className=\"rounded bg-gray-800 text-white px-2 py-1\" sideOffset={4}>GitHub</Tooltip.Content>\n          </Tooltip.Root>\n        </div>\n        {!isSidebarCollapsed && (\n          <p className=\"mt-3 text-center text-xs text-red-500 dark:text-red-400\">&copy; 2026 In-Accord | GARD Realms LLC</p>\n        )}\n      </div>\n      <div\n        className=\"absolute top-0 right-0 h-full w-1 cursor-col-resize bg-transparent hover:bg-blue-200 dark:hover:bg-gray-600\"\n        onMouseDown={handleMouseDown}\n      />\n   </div>\n   </Tooltip.Provider>\n  );\n};\n\nexport default Sidebar;\n"],"names":["c","_c","React","useCallback","useEffect","useRef","useAppDispatch","useAppSelector","setIsSidebarCollapsed","setSidebarWidth","Archive","BotIcon","CircleDollarSignIcon","Clipboard","DrumstickIcon","FileQuestionIcon","GitCompareArrowsIcon","Layout","LucideIcon","Menu","PcCaseIcon","PlugIcon","ServerCogIcon","Settings","StarsIcon","User","Users2Icon","WebhookIcon","usePathname","Link","Tooltip","SidebarLinkProps","href","icon","label","isCollapsed","currentUserRole","SidebarLink","t0","$","$i","Symbol","for","Icon","pathname","rootActivePaths","isActive","includes","restrictedLinks","role","toLowerCase","t1","t2","t3","t4","t5","t6","SectionLabel","text","Sidebar","dispatch","isSidebarCollapsed","state","global","isDarkMode","sidebarWidth","setCurrentUserRole","useState","isLoggedIn","setIsLoggedIn","raw","localStorage","getItem","user","JSON","parse","console","log","handleUserUpdate","window","addEventListener","removeEventListener","discordUrl","process","env","NEXT_PUBLIC_DISCORD_URL","facebookUrl","NEXT_PUBLIC_FACEBOOK_URL","linkedinUrl","NEXT_PUBLIC_LINKEDIN_URL","githubUrl","NEXT_PUBLIC_GITHUB_URL","startXRef","startWidthRef","isResizingRef","collapsedWidth","minWidth","maxWidth","defaultOpenWidth","toggleSidebar","Math","min","max","handleMouseMove","event","MouseEvent","current","delta","clientX","nextWidth","handleMouseUp","handleMouseDown","HTMLDivElement","normalized","clampedWidth","appliedWidth","sidebarClassNames","width","backgroundColor","color"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1839, "column": 0}, "map": {"version":3,"sources":["E:/In-Accord-web/client/src/app/dashboardWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport Navbar from \"@/app/(components)/Navbar\";\nimport Sidebar from \"@/app/(components)/Sidebar\";\nimport StoreProvider, { useAppSelector } from \"./redux\";\n\nconst DashboardLayout = ({ children }: { children: React.ReactNode }) => {\n  const isSidebarCollapsed = useAppSelector(\n    (state) => state.global.isSidebarCollapsed\n  );\n  const isDarkMode = useAppSelector((state) => state.global.isDarkMode);\n  const sidebarWidth = useAppSelector((state) => state.global.sidebarWidth);\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const html = document.documentElement;\n    if (isDarkMode) {\n      html.classList.add(\"dark\");\n    } else {\n      html.classList.remove(\"dark\");\n    }\n    console.log('Dark mode changed to:', isDarkMode, 'HTML classes:', html.classList.value);\n  }, [isDarkMode]);\n\n  const minWidth = 120;\n  const maxWidth = 320;\n  const clampedSidebarWidth = Math.min(Math.max(sidebarWidth, minWidth), maxWidth);\n  const appliedSidebarOffset = isSidebarCollapsed ? 64 : clampedSidebarWidth;\n\n  // Centralized list of routes that require authentication\n  const protectedRoutes = [\n    '/administrator',\n    '/dashboard',\n    '/profile',\n    '/inventory',\n    '/products',\n    '/expenses',\n    '/bots',\n    '/servers',\n    '/hosting',\n    '/users'\n  ];\n\n  // Redirect to home when accessing protected routes without a logged-in user\n  useEffect(() => {\n    try {\n      const raw = typeof window !== 'undefined' ? localStorage.getItem('currentUser') : null;\n      const user = raw ? JSON.parse(raw) : null;\n      const isProtected = protectedRoutes.some((p) => pathname?.startsWith(p));\n      if (isProtected && !user) {\n        // Use replace to avoid back button returning to protected page\n        router.replace('/home');\n      }\n      // Enforce Admin-only access for administrator route\n      if (pathname?.startsWith('/administrator') && user && user.role !== 'Admin') {\n        router.replace('/home');\n      }\n    } catch (e) {\n      // Fail-safe: if parsing fails, redirect off protected routes\n      const isProtected = protectedRoutes.some((p) => pathname?.startsWith(p));\n      if (isProtected) router.replace('/home');\n    }\n  }, [pathname, router]);\n\n  // React to auth changes (login/logout) and re-evaluate guards\n  useEffect(() => {\n    const onAuthUpdate = () => {\n      try {\n        const raw = localStorage.getItem('currentUser');\n        const user = raw ? JSON.parse(raw) : null;\n        const isProtected = protectedRoutes.some((p) => pathname?.startsWith(p));\n        if (isProtected && !user) router.replace('/home');\n        // Enforce Admin-only access for administrator route\n        if (pathname?.startsWith('/administrator') && user && user.role !== 'Admin') {\n          router.replace('/home');\n        }\n      } catch {}\n    };\n    window.addEventListener('userUpdated', onAuthUpdate);\n    window.addEventListener('storage', onAuthUpdate);\n    window.addEventListener('sessionCreated', onAuthUpdate);\n    window.addEventListener('logout', onAuthUpdate);\n    return () => {\n      window.removeEventListener('userUpdated', onAuthUpdate);\n      window.removeEventListener('storage', onAuthUpdate);\n      window.removeEventListener('sessionCreated', onAuthUpdate);\n      window.removeEventListener('logout', onAuthUpdate);\n    };\n  }, [pathname, router]);\n\n  return (\n    <div\n      className=\"flex bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 w-full min-h-screen\"\n      style={{\n        backgroundColor: isDarkMode ? '#111827' : '#f9fafb',\n        color: isDarkMode ? '#f3f4f6' : '#111827'\n      }}\n    >\n      <Sidebar />\n      <main\n        className={`flex flex-col flex-1 h-full py-7 px-6 bg-gray-50 dark:bg-gray-900`}\n        style={{\n          backgroundColor: isDarkMode ? '#111827' : '#f9fafb',\n          marginLeft: 0,\n          width: '100%'\n        }}\n      >\n        <Navbar />\n        {children}\n      </main>\n    </div>\n  );\n};\n\nconst DashboardWrapper = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <StoreProvider>\n      <DashboardLayout>{children}</DashboardLayout>\n    </StoreProvider>\n  );\n};\n\nexport default DashboardWrapper;"],"names":["c","_c","React","useEffect","useRouter","usePathname","Navbar","Sidebar","StoreProvider","useAppSelector","DashboardLayout","children","ReactNode","isSidebarCollapsed","state","global","isDarkMode","sidebarWidth","router","pathname","html","document","documentElement","classList","add","remove","console","log","value","minWidth","maxWidth","clampedSidebarWidth","Math","min","max","appliedSidebarOffset","protectedRoutes","raw","window","localStorage","getItem","user","JSON","parse","isProtected","some","p","startsWith","replace","role","e","onAuthUpdate","addEventListener","removeEventListener","backgroundColor","color","marginLeft","width","DashboardWrapper","t0","$","$i","Symbol","for","t1"],"mappings":"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","ignoreList":[]}}]
}